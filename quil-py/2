import pdoc

import quil


def init_docs():
    modules = {
        "quil": pdoc.doc.Module(quil),
        "quil.expression": pdoc.doc.Module(quil.expression),
    }
    modules["quil.expression"].modulename = "quil.expression"

    for module in modules.values():
        print(module.modulename)
        print(module.qualname)
        print(module.taken_from)
        pdoc.doc_pyi.include_typeinfo_from_stub_files(module)

    out = pdoc.render.html_module(module=modules["quil"], all_modules=modules)

    with open("quil.html", "w") as f:
        f.write(out)


if __name__ == "__main__":
    init_docs()
